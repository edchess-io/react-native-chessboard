{"version":3,"names":["styles","StyleSheet","create","container","flex","flexDirection","Square","React","memo","white","row","col","letters","numbers","colors","useChessboardProps","calculateRow","calculateCol","useReversePiecePosition","backgroundColor","black","textStyle","fontWeight","fontSize","color","text","newLocal","padding","justifyContent","opacity","alignSelf","String","fromCharCode","toUpperCase","Row","rest","offset","Array","fill","map","_","i","Background","withLetters","withNumbers"],"sources":["chessboard-background.tsx"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React from 'react';\nimport { View, StyleSheet, Text } from 'react-native';\nimport { useChessboardProps } from '../context/props-context/hooks';\nimport { useReversePiecePosition } from '../notation';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n});\n\ntype BackgroundProps = {\n  letters: boolean;\n  numbers: boolean;\n};\n\ninterface BaseProps extends BackgroundProps {\n  white: boolean;\n}\n\ninterface RowProps extends BaseProps {\n  row: number;\n}\n\ninterface SquareProps extends RowProps {\n  col: number;\n}\n\nconst Square = React.memo(\n  ({ white, row, col, letters, numbers }: SquareProps) => {\n    const { colors } = useChessboardProps();\n    const { calculateRow, calculateCol } = useReversePiecePosition();\n\n    const backgroundColor = white ? colors.black : colors.white;\n    const textStyle = {\n      fontWeight: '400' as const,\n      fontSize: 8,\n      color: colors.text,\n    };\n    const newLocal = col === 0;\n    return (\n      <View\n        style={{\n          flex: 1,\n          backgroundColor,\n          padding: 2,\n          justifyContent: 'space-between',\n        }}\n      >\n        {numbers && (\n          <Text style={[textStyle, { opacity: newLocal ? 1 : 0 }]}>\n            {'' + calculateRow(row)}\n          </Text>\n        )}\n        {row === 7 && letters && (\n          <Text style={[textStyle, { alignSelf: 'flex-end' }]}>\n            {String.fromCharCode(calculateCol(col)).toUpperCase()}\n          </Text>\n        )}\n      </View>\n    );\n  }\n);\n\nconst Row = React.memo(({ white, row, ...rest }: RowProps) => {\n  const offset = white ? 0 : 1;\n  return (\n    <View style={styles.container}>\n      {new Array(8).fill(0).map((_, i) => (\n        <Square\n          {...rest}\n          row={row}\n          col={i}\n          key={i}\n          white={(i + offset) % 2 === 1}\n        />\n      ))}\n    </View>\n  );\n});\n\nconst Background: React.FC = React.memo(() => {\n  const { withLetters, withNumbers } = useChessboardProps();\n  return (\n    <View style={{ flex: 1 }}>\n      {new Array(8).fill(0).map((_, i) => (\n        <Row\n          key={i}\n          white={i % 2 === 0}\n          row={i}\n          letters={withLetters}\n          numbers={withNumbers}\n        />\n      ))}\n    </View>\n  );\n});\n\nexport default Background;\n"],"mappings":"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"}