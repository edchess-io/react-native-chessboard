{"version":3,"names":["useReversePiecePosition","pieceSize","playersColor","useChessboardProps","isBlackPiecePosition","useMemo","toTranslation","useCallback","to","tokens","split","col","row","Error","indexes","x","charCodeAt","y","parseInt","toPosition","String","fromCharCode","Math","round"],"sources":["notation.ts"],"sourcesContent":["import type { Square } from 'chess.js';\nimport { useCallback, useMemo } from 'react';\nimport { useChessboardProps } from './context/props-context/hooks';\n\nimport type { Vector } from './types';\n\nconst useReversePiecePosition = () => {\n  const { pieceSize, playersColor } = useChessboardProps();\n\n  const isBlackPiecePosition = useMemo(\n    () => playersColor === 'b',\n    [playersColor]\n  );\n\n  const toTranslation = useCallback(\n    (to: Square) => {\n      'worklet';\n      const tokens = to.split('');\n      const col = tokens[0];\n      const row = tokens[1];\n      if (!col || !row) {\n        throw new Error('Invalid notation: ' + to);\n      }\n      const indexes = {\n        x: col.charCodeAt(0) - 'a'.charCodeAt(0),\n        y: parseInt(row, 10) - 1,\n      };\n      return {\n        x: indexes.x * pieceSize,\n        y: 7 * pieceSize - indexes.y * pieceSize,\n      };\n    },\n    [pieceSize]\n  );\n\n  const toPosition = useCallback(\n    ({ x, y }: Vector) => {\n      'worklet';\n      const col = String.fromCharCode(97 + Math.round(x / pieceSize));\n      const row = `${8 - Math.round(y / pieceSize)}`;\n      return `${col}${row}` as Square;\n    },\n    [pieceSize]\n  );\n\n  return {\n    toPosition,\n    toTranslation,\n    isBlackPiecePosition,\n  };\n};\n\nexport { useReversePiecePosition };\n"],"mappings":";;;;;;;AACA;;AACA;;AAIA,MAAMA,uBAAuB,GAAG,MAAM;EACpC,MAAM;IAAEC,SAAF;IAAaC;EAAb,IAA8B,IAAAC,yBAAA,GAApC;EAEA,MAAMC,oBAAoB,GAAG,IAAAC,cAAA,EAC3B,MAAMH,YAAY,KAAK,GADI,EAE3B,CAACA,YAAD,CAF2B,CAA7B;EAKA,MAAMI,aAAa,GAAG,IAAAC,kBAAA,EACnBC,EAAD,IAAgB;IACd;;IACA,MAAMC,MAAM,GAAGD,EAAE,CAACE,KAAH,CAAS,EAAT,CAAf;IACA,MAAMC,GAAG,GAAGF,MAAM,CAAC,CAAD,CAAlB;IACA,MAAMG,GAAG,GAAGH,MAAM,CAAC,CAAD,CAAlB;;IACA,IAAI,CAACE,GAAD,IAAQ,CAACC,GAAb,EAAkB;MAChB,MAAM,IAAIC,KAAJ,CAAU,uBAAuBL,EAAjC,CAAN;IACD;;IACD,MAAMM,OAAO,GAAG;MACdC,CAAC,EAAEJ,GAAG,CAACK,UAAJ,CAAe,CAAf,IAAoB,IAAIA,UAAJ,CAAe,CAAf,CADT;MAEdC,CAAC,EAAEC,QAAQ,CAACN,GAAD,EAAM,EAAN,CAAR,GAAoB;IAFT,CAAhB;IAIA,OAAO;MACLG,CAAC,EAAED,OAAO,CAACC,CAAR,GAAYd,SADV;MAELgB,CAAC,EAAE,IAAIhB,SAAJ,GAAgBa,OAAO,CAACG,CAAR,GAAYhB;IAF1B,CAAP;EAID,CAjBmB,EAkBpB,CAACA,SAAD,CAlBoB,CAAtB;EAqBA,MAAMkB,UAAU,GAAG,IAAAZ,kBAAA,EACjB,QAAsB;IACpB;;IADoB,IAArB;MAAEQ,CAAF;MAAKE;IAAL,CAAqB;IAEpB,MAAMN,GAAG,GAAGS,MAAM,CAACC,YAAP,CAAoB,KAAKC,IAAI,CAACC,KAAL,CAAWR,CAAC,GAAGd,SAAf,CAAzB,CAAZ;IACA,MAAMW,GAAG,GAAI,GAAE,IAAIU,IAAI,CAACC,KAAL,CAAWN,CAAC,GAAGhB,SAAf,CAA0B,EAA7C;IACA,OAAQ,GAAEU,GAAI,GAAEC,GAAI,EAApB;EACD,CANgB,EAOjB,CAACX,SAAD,CAPiB,CAAnB;EAUA,OAAO;IACLkB,UADK;IAELb,aAFK;IAGLF;EAHK,CAAP;AAKD,CA5CD"}