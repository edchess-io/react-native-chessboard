{"version":3,"names":["React","useMemo","View","StyleSheet","Text","useChessboardProps","useReversePiecePosition","styles","create","container","flex","flexDirection","Square","memo","white","row","col","letters","numbers","colors","isBlackPiecePosition","backgroundColor","black","textStyle","fontWeight","fontSize","color","text","transform","newCol","newRow","wrapperStyles","commonStyles","padding","justifyContent","lettersStyles","alignSelf","opacity","String","fromCharCode","toUpperCase","Row","rest","offset","Array","fill","map","_","i","Background","withLetters","withNumbers"],"sources":["chessboard-background.tsx"],"sourcesContent":["/* eslint-disable react-native/no-inline-styles */\nimport React, { useMemo } from 'react';\nimport {\n  View,\n  StyleSheet,\n  Text,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n} from 'react-native';\nimport { useChessboardProps } from '../context/props-context/hooks';\nimport { useReversePiecePosition } from '../notation';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n});\n\ntype BackgroundProps = {\n  letters: boolean;\n  numbers: boolean;\n};\n\ninterface BaseProps extends BackgroundProps {\n  white: boolean;\n}\n\ninterface RowProps extends BaseProps {\n  row: number;\n}\n\ninterface SquareProps extends RowProps {\n  col: number;\n}\n\nconst Square = React.memo(\n  ({ white, row, col, letters, numbers }: SquareProps) => {\n    const { colors } = useChessboardProps();\n    const { isBlackPiecePosition } = useReversePiecePosition();\n    const backgroundColor = white ? colors.black : colors.white;\n    const textStyle: StyleProp<TextStyle> = {\n      fontWeight: '400' as const,\n      fontSize: 8,\n      color: colors.text,\n    };\n\n    if (isBlackPiecePosition) {\n      //@ts-ignore\n      textStyle.transform = 'rotate(180deg)';\n    }\n\n    const newCol = isBlackPiecePosition ? col === 7 : col === 0;\n    const newRow = isBlackPiecePosition ? row === 0 : row === 7;\n\n    const wrapperStyles: StyleProp<ViewStyle> = useMemo(() => {\n      const commonStyles: StyleProp<ViewStyle> = {\n        flex: 1,\n        backgroundColor,\n        padding: 2,\n        justifyContent: 'space-between',\n      };\n\n      if (isBlackPiecePosition) {\n        return {\n          ...commonStyles,\n          flexDirection: 'column-reverse',\n        };\n      }\n\n      return commonStyles;\n    }, [isBlackPiecePosition, backgroundColor]);\n\n    const lettersStyles: StyleProp<TextStyle> = useMemo(() => {\n      if (isBlackPiecePosition) {\n        return { alignSelf: 'flex-start' };\n      }\n\n      return { alignSelf: 'flex-end' };\n    }, [isBlackPiecePosition]);\n\n    return (\n      <View style={wrapperStyles}>\n        {numbers && (\n          <Text style={[textStyle, { opacity: newCol ? 1 : 0 }]}>\n            {'' + (8 - row)}\n          </Text>\n        )}\n        {newRow && letters && (\n          <Text style={[textStyle, lettersStyles]}>\n            {String.fromCharCode(97 + col).toUpperCase()}\n          </Text>\n        )}\n      </View>\n    );\n  }\n);\n\nconst Row = React.memo(({ white, row, ...rest }: RowProps) => {\n  const offset = white ? 0 : 1;\n  return (\n    <View style={styles.container}>\n      {new Array(8).fill(0).map((_, i) => (\n        <Square\n          {...rest}\n          row={row}\n          col={i}\n          key={i}\n          white={(i + offset) % 2 === 1}\n        />\n      ))}\n    </View>\n  );\n});\n\nconst Background: React.FC = React.memo(() => {\n  const { withLetters, withNumbers } = useChessboardProps();\n  return (\n    <View style={{ flex: 1 }}>\n      {new Array(8).fill(0).map((_, i) => (\n        <Row\n          key={i}\n          white={i % 2 === 0}\n          row={i}\n          letters={withLetters}\n          numbers={withNumbers}\n        />\n      ))}\n    </View>\n  );\n});\n\nexport default Background;\n"],"mappings":"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"}