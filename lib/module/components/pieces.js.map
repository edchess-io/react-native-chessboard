{"version":3,"names":["React","useChessboardProps","useBoard","usePieceRefs","Piece","useReversePiecePosition","Pieces","memo","board","refs","pieceSize","toPosition","calculatePosition","map","row","y","piece","x","calculatedX","calculatedY","square","current","color","type"],"sources":["pieces.tsx"],"sourcesContent":["import React from 'react';\nimport { useChessboardProps } from '../context/props-context/hooks';\n\nimport { useBoard } from '../context/board-context/hooks';\nimport { usePieceRefs } from '../context/board-refs-context/hooks';\n\nimport Piece from './piece';\nimport { useReversePiecePosition } from '../notation';\n\nconst Pieces = React.memo(() => {\n  const board = useBoard();\n  const refs = usePieceRefs();\n  const { pieceSize } = useChessboardProps();\n  const { toPosition, calculatePosition } = useReversePiecePosition();\n\n  return (\n    <>\n      {board.map((row, y) =>\n        row.map((piece, x) => {\n          if (piece !== null) {\n            const { x: calculatedX, y: calculatedY } = calculatePosition({\n              x,\n              y,\n            });\n\n            const square = toPosition({\n              x: calculatedX * pieceSize,\n              y: calculatedY * pieceSize,\n            });\n\n            return (\n              <Piece\n                ref={refs?.current?.[square]}\n                key={`${calculatedX}-${calculatedY}`}\n                id={`${piece.color}${piece.type}` as const}\n                startPosition={{ x: calculatedX, y: calculatedY }}\n                square={square}\n                size={pieceSize}\n              />\n            );\n          }\n          return null;\n        })\n      )}\n    </>\n  );\n});\n\nexport { Pieces };\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,QAAmC,gCAAnC;AAEA,SAASC,QAAT,QAAyB,gCAAzB;AACA,SAASC,YAAT,QAA6B,qCAA7B;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,uBAAT,QAAwC,aAAxC;AAEA,MAAMC,MAAM,gBAAGN,KAAK,CAACO,IAAN,CAAW,MAAM;EAC9B,MAAMC,KAAK,GAAGN,QAAQ,EAAtB;EACA,MAAMO,IAAI,GAAGN,YAAY,EAAzB;EACA,MAAM;IAAEO;EAAF,IAAgBT,kBAAkB,EAAxC;EACA,MAAM;IAAEU,UAAF;IAAcC;EAAd,IAAoCP,uBAAuB,EAAjE;EAEA,oBACE,0CACGG,KAAK,CAACK,GAAN,CAAU,CAACC,GAAD,EAAMC,CAAN,KACTD,GAAG,CAACD,GAAJ,CAAQ,CAACG,KAAD,EAAQC,CAAR,KAAc;IACpB,IAAID,KAAK,KAAK,IAAd,EAAoB;MAAA;;MAClB,MAAM;QAAEC,CAAC,EAAEC,WAAL;QAAkBH,CAAC,EAAEI;MAArB,IAAqCP,iBAAiB,CAAC;QAC3DK,CAD2D;QAE3DF;MAF2D,CAAD,CAA5D;MAKA,MAAMK,MAAM,GAAGT,UAAU,CAAC;QACxBM,CAAC,EAAEC,WAAW,GAAGR,SADO;QAExBK,CAAC,EAAEI,WAAW,GAAGT;MAFO,CAAD,CAAzB;MAKA,oBACE,oBAAC,KAAD;QACE,GAAG,EAAED,IAAF,aAAEA,IAAF,wCAAEA,IAAI,CAAEY,OAAR,kDAAE,cAAgBD,MAAhB,CADP;QAEE,GAAG,EAAG,GAAEF,WAAY,IAAGC,WAAY,EAFrC;QAGE,EAAE,EAAG,GAAEH,KAAK,CAACM,KAAM,GAAEN,KAAK,CAACO,IAAK,EAHlC;QAIE,aAAa,EAAE;UAAEN,CAAC,EAAEC,WAAL;UAAkBH,CAAC,EAAEI;QAArB,CAJjB;QAKE,MAAM,EAAEC,MALV;QAME,IAAI,EAAEV;MANR,EADF;IAUD;;IACD,OAAO,IAAP;EACD,CAxBD,CADD,CADH,CADF;AA+BD,CArCc,CAAf;AAuCA,SAASJ,MAAT"}